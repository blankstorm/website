---
import Main from '../../layouts/Main.astro';
import AccountView from '../../components/Account.astro';
import { getAccount } from '@blankstorm/api';
import { currentUser } from '../../utils';

const viewer = await currentUser(Astro.cookies);

const account = Astro.params.id ? await getAccount(Astro.params.id) : viewer;
---

<Main title="Account" center account={viewer}>
	<AccountView {account} {viewer} ></AccountView>
</Main>
